<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Show Google Map with a Marker at Current Location</title>

    <script type="text/javascript">
      var maptype="roadmap";

      function showCurrentLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(getPosition);
        } else {
          document.write("This web browser dos not support geolocation.");
        }
      }

      function getPosition(p) {
        var currentLat=p.coords.latitude;
        var currentLng=p.coords.longitude;
        showMap(currentLat, currentLng);
      }

      function showMap(lat, lng) {
        var url="http://maps.googleapis.com/maps/api/staticmap"+"center"+lat+","+lng+"&size=600*500"+
        "&maptype="+maptype+
        "&zoom=15"+
        "&markers=color:blue|"+lat+","+lng+
        "&sensor=true"+
        "&key=AIzaSyB2jPf4peQvSa_amizCXSHxKskHS4IJ-ic";

        document.body.style.backgroundImage="url("+url+")"

      }
    </script>
  </head>
  <body>
    <button onclick="showCurrentLocation('roadmap');">Roadmap</button>
    <button onclick="showCurrentLocation('satellite');">Satellite</button>
    <button onclick="showCurrentLocation('terrain');">Terrain</button>

  </body>
</html>
